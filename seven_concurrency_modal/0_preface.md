# 서문  
동시성 프로그래밍은 멀티코어 프로그래밍 시대, 병렬성을 활용 해야하는  
프로그래밍 시대가 오면서 뜨게 되었다.  
얼랭, 하스켈, Go, 스칼라, 클로저 같은 언어들이 동시성에 탁월한 지원을 함.

## 동시성?  
동시성은 여러 개의 논리적 통제 흐름(threads of control)을 갖는다.  
쓰레드를 병렬로 실행할 수도 있고 아닐 수도 있다. 

## 병렬성?  
병렬적 프로그램은 계산에 필요한 부분 부분을 병렬로 실행함으로써  
논리적 통제 흐름은 하나 이상이 될 수 있다.

## 동시성 vs 병렬성  
    동시성은 여러 일을 한꺼번에 다루는 데 관한 것.
    병렬성은 여러 일을 한꺼번에 실행하는 데 관한 것.

## 결정적 vs 비결정적  
동시적인 프로그램은 비결정적(nondeterministic)  
시점, 타이밍에 따라 결과가 달라질 수 있음

병렬적인 프로그램은 결정적인 결과로,  
시점, 타이밍 등의 환경에 따라 결과가 달라지지 않고 항상 y -> x의 결과 보장  

기본적인 스레드, 잠금장치는 병렬성을 직접 지원하지 않음.

## 병렬 아키텍처  
멀티코어 뿐만 아니라, 여러 방법의 병렬성을 가지고 있음.  

### 비트 수준의 병렬성  
8bit 컴퓨터는 32bit를 처리하기 위해 4번의 계산이 필요하지만,  
32bit 컴퓨터는 한번에 가능함

### 명령어 수준  
CPU는 pipelining, out-of-order execution, speculative execution 등  
기법으로 병렬적으로 명령어를 실행한다.  

겉으로는 모든 계산이 순차적으로 실행되어 보이지만,  
명령어의 메모리 의존 관계에 따라 미리 실행하는 경우가 있음.

### 데이터 병렬성(SIMD)  
이미지 같은 수십만개, 수백만개 픽셀로 이루어진 데이터를 처리하려면  
GPU라는 강력한 데이터 병렬 처리기로 수백 수천개의 코어에 각각  
픽셀을 할당하여 처리하면 된다.

### 태스크 수준 병렬성  
`공유 메모리` (하나의 App에서의 제어?)  
각 프로세서가 메모리의 모든 부분을 접근할 수 있고, 이 메모리를 통해  
각 스레드가 커뮤니케이션을 할 수 있음.

`분산 메모리` (여러 PC에서의 제어?)  
프로세서가 저마다 메모리를 가져 커뮤니케이션은 네트워크를 통해 이루어진다.

## 예측 불가능한 세계에 맞는 탄력적 소프트웨어  
동시성은 `독립성`과 `장애 감지`를 필요로 한다.

`독립성` : 한 작업에서 발생한 장애가 다른 작업에 영향을 주지 않아야 함.

`장애 감지` : 장애를 일으켰을 때, 그것을 통지하여 복구 작업이 일어나도록 해야 함.

이러한 것이 구현된 동시적인 S/W가 탄력성을 갖춘 적절한 S/W라고 볼 수 있음.

## 복잡한 세계에 맞는 단순한 소프트웨어  
동시적인 프로그래밍을 위한 적절한 도구를 쓴다면,  
순차적인 일반 코딩보다 훨씬 단순한 멀티코어 프로그래밍이 가능하다.  

여러 문제를 다루는 하나의 스레드보다  
하나의 문제를 다루는 여러 스레드가 훨씬 단순하고 좋다.

## 7가지 모델  
동시성, 병렬성에 대한 7가지 모델은 다음과 같다.

1. 스레드와 잠금장치
    멀티 쓰레딩의 가장 기본 기술이 되며 다른 모든 모델의 근간이 되는 방법이다.

2. 함수형 프로그래밍
    가변 상태를 제거한 모델로 스레드-안전을 보장한 프로그래밍을 지향하며
    병렬처리가 쉽다.

3. 클로저 방식 - 아이덴티티와 상태 분리
    명령형과 함수형 프로그래밍을 결합하며 보급한 모델

4. 액터
    공유, 분산 메모리 아키텍처 양측 활용이 가능하고,  
    분산과 장애 허용, 탄력성에 대한 지원이 강한 모델.

5. 순차 프로세스 통신(CSP)
    채널이라는 개념과 CSP라는 개념으로 메시지를 전달하는 방식

6. 데이터 병렬성
    GPU를 활용한 계산 수행 방식.
    성능적으로는 다른 모든 방법을 다 능가할 것이다.

7. 람다 아키텍처
    맵리듀스, 스트리밍 프로세스 등 빅데이터 문제 해결에 최적화된 모델

여러 모델을 보면서 아래를 염두하며 생각할 것.  
- 동시성, 병렬성 문제 해결하는데 적합한가?
- 어떤 병렬 아키텍처를 타깃으로 하는가?
- 탄력성을 갖춘 도구를 제공하는가?
